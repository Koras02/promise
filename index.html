<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // const condition = true;
    // const promise = new Promise((resolve, reject) => {
    //     if (condition) {
    //         resolve("성공");
    //     } else {
    //         reject('실패');
    //     }
    // });

// Resolve 일반 

//    promise
//      .then((msg) => {
//          console.log(msg); // 성공시 (resolve)
//      })
//      .catch((error) => {
//          console.log(error); // 실패시 (reject)
//      })
//      .finally(() =>  {
//          console.log('always') // 끝나고 무조건 실행
//      })


// // Promise 안에 명시
//     promise
//        .then((msg) => {
//            return new Promise((resolve, reject) => {
//                resolve(msg);
//            });
//        })
//        .then((msg2) => {
//            console.log(msg2);
//            return new Promise((resolve, reject) => {
//                resolve(msg2);
//            });
//        })
//        .then((msg3) => {
//            console.log(msg3);
//        })
//        .catch((error) => {
//            console.log(error);
//        })


// // Promise.all 동시실행
// const promise1 = Promise.resolve('성공1');
// const promise2 = Promise.resolve("성공2");

// Promise.all([promise1, promise2])
//     .then((result) => {
//         console.log(result); // ['성공1', '성공2']
//     })
//     .catch((error) => {
//         console.error(error);
//     })


async function findAndSaveUser(Users) {
  try {
    let user = await Users.findOne({});
    user.name = 'jungho';
    user = await user.save();
    user = await Users.findOne({ gender: 'm' })
    // 생략 
} catch(error) {
    console.error(error);
}
}

const promise1 = Promise.resolve("성공1");
const promise2 = Promise.resolve("성공2");
const promise2 = Promise.resolve("성공3");


(async () => {
    for await(promse of [promise1, promise2]) {
        console.log(promise);
    }
})

console.log("쉑쉑")


</script>
</html>